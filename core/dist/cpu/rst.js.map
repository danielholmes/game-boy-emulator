{"version":3,"sources":["../../src/cpu/rst.ts"],"names":["RST_ADDRESSES","createRst","opCode","address","InstructionDefinition","toString","internalDelay","loadProgramCounter","decrementRegister","writeMemoryWordFromStackPointer","setRegister"],"mappings":";;;;;;;AAAA;;AAYO,IAAMA,aAAwC,GAAG,CACtD,MADsD,EAEtD,MAFsD,EAGtD,MAHsD,EAItD,MAJsD,EAKtD,MALsD,EAMtD,MANsD,EAOtD,MAPsD,EAQtD,MARsD,CAAjD;;;AAWA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,MAAD,EAAiBC,OAAjB;AAAA,SACvB,IAAIC,mCAAJ,CAA0BF,MAA1B,iBAA0CC,OAAO,CAACE,QAAR,CAAiB,EAAjB,CAA1C,GACGC,aADH,GAEGC,kBAFH,GAGGC,iBAHH,CAGqB,IAHrB,EAIGA,iBAJH,CAIqB,IAJrB,EAKGC,+BALH,GAMGC,WANH,CAMe,IANf,EAMqBP,OANrB,CADuB;AAAA,CAAlB","sourcesContent":["import { Instruction, InstructionDefinition, OpCode } from \"./instructions\";\n\nexport type RstAddress =\n  | 0x0000\n  | 0x0008\n  | 0x0010\n  | 0x0018\n  | 0x0020\n  | 0x0028\n  | 0x0030\n  | 0x0038;\n\nexport const RST_ADDRESSES: ReadonlyArray<RstAddress> = [\n  0x0000,\n  0x0008,\n  0x0010,\n  0x0018,\n  0x0020,\n  0x0028,\n  0x0030,\n  0x0038\n];\n\nexport const createRst = (opCode: OpCode, address: RstAddress): Instruction =>\n  new InstructionDefinition(opCode, `RST $${address.toString(16)}`)\n    .internalDelay()\n    .loadProgramCounter()\n    .decrementRegister(\"sp\")\n    .decrementRegister(\"sp\")\n    .writeMemoryWordFromStackPointer()\n    .setRegister(\"pc\", address);\n"],"file":"rst.js"}